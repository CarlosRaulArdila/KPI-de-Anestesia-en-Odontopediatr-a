<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gráfico de Líneas - Incidencia de Complicaciones Intraoperatorias</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Incidencia de Complicaciones Intraoperatorias</h1>
    <div id="lineChart" style="width: 100%; height: 600px;"></div>

    <script>
        // Meses del período de análisis
        const meses = ['Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre', 'Enero'];

        // Datos de complicaciones (simulados: eventos por cada 100 procedimientos)
        const hipotension = [2.5, 3.0, 2.8, 3.5, 3.2, 2.9];
        const bradicardia = [1.8, 2.0, 1.7, 2.1, 1.9, 2.0];
        const reaccionesAlergicas = [0.5, 0.4, 0.6, 0.7, 0.6, 0.5];
        const otros = [0.8, 0.9, 0.7, 0.8, 0.9, 0.8];

        // Configuración de las trazas para los tipos de complicaciones
        const trace1 = {
            x: meses,
            y: hipotension,
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Hipotensión',
            line: { color: 'rgba(31, 119, 180, 0.8)', width: 2 },
            marker: { size: 8 }
        };

        const trace2 = {
            x: meses,
            y: bradicardia,
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Bradicardia',
            line: { color: 'rgba(255, 127, 14, 0.8)', width: 2 },
            marker: { size: 8 }
        };

        const trace3 = {
            x: meses,
            y: reaccionesAlergicas,
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Reacciones Alérgicas',
            line: { color: 'rgba(44, 160, 44, 0.8)', width: 2 },
            marker: { size: 8 }
        };

        const trace4 = {
            x: meses,
            y: otros,
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Otros',
            line: { color: 'rgba(214, 39, 40, 0.8)', width: 2 },
            marker: { size: 8 }
        };

        // Configuración del diseño
        const layout = {
            title: 'Incidencia de Complicaciones Intraoperatorias (Últimos 6 Meses)',
            xaxis: {
                title: 'Meses',
                tickangle: -45
            },
            yaxis: {
                title: 'Eventos por cada 100 procedimientos',
                range: [0, 4] // Ajusta según los datos reales
            },
            margin: { t: 50, b: 100 },
            legend: {
                orientation: 'h',
                x: 0.5,
                xanchor: 'center',
                y: -0.2
            }
        };

        // Renderiza el gráfico en la página
        Plotly.newPlot('lineChart', [trace1, trace2, trace3, trace4], layout);
    </script>
</body>
</html>
